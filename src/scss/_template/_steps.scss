@import "../_mixin/mixin";
@import "../_function/function";

@import "../_variable/sprite_de";



$w-all            : return-value(dimension, all);

$c-text           : return-value(color, suva_gray);
$c-text_active    : return-value(color, nero);
$c-steps_bg       : return-value(color, alice_blue);
$c-check          : return-value(color, fern);
$c-active         : return-value(color, deep_pink);

$f-latoR          : return-value(fonts, lato-regular);

$position-block   : right;
$f-size           : 12px;
$steps-wrap       : 81px;



.steps {
	float: $position-block;
	clear: both;
	font : {
		size: $f-size;
		family: $f-latoR;
	}
	@include respond-to('extra_small') {
		display: flex;
		font : {
			size: $f-size - 2;
		}
	}
	@include respond-to('small') {
		float: none;
		text-align: center;
	}


	&__wrap {
		display: inline-block;  *display: inline;  *zoom: 1;
		vertical-align: top;
		position: relative;
		width: $steps-wrap;
		text-align: center;
		@include respond-to('extra_small') {
			width: $w-all / 5;
		}


		&_active {
			.steps__wrap-container {
				background: $c-active;
			}

			.steps__wrap-text {
				color: $c-text_active;
			}

			.steps__wrap-line-status {
				width: 40%;
				right: 0;
				background-color: $c-active;
			}
		}


		&_check {
			.steps__wrap-container {
				background: $c-check;
			}

			.steps__wrap-text {
				color: $c-check;
			}

			.steps__wrap-line-status {
				width: 100%;
				background-color: $c-check;
			}
		}


		&_status {
			.steps__wrap-line,
			.steps__wrap-line-status {
				display: none;
			}
		}


		.steps__wrap-icon {
			float: left;
		}


		&-container {
			@include mixinDimensions(30px);
			display: inline-block;  *display: inline;  *zoom: 1;
			position: relative;
			z-index: 3;
			background-color: $c-steps_bg;
			border-radius: 100%;
			margin-bottom: 10px;
		}


		&-text {
			color: $c-text;
		}


		&-line {
			position: absolute;
			top: 10px;
			right: -30px;
			z-index: 1;
			@include mixinDimensions(100%, 10px);
			background-color: $c-steps_bg;
		}


		&-line-status {
			position: absolute;
			top: 13.5px;
			right: -30px;
			z-index: 2;
			height: 3px;


			.steps__wrap_active & {
				.steps__wrap-line-icon {
					position: absolute;
					right: -2px;
					top: -5px;
					@include retina-sprite($sp-i-step-arrow-status-group);
				}
			}
		}
	}
}


.steps__wrap {
	@each $className, $marginLeft, $marginTop, $imgGroupDefault, $imgGroupActiveCheck in
		('1',   7px,    6px,  $sp-i-step-first-group,      ''),
		('2',   7.5px,  7px,  $sp-i-step-second-def-group, $sp-i-step-second-ac-group),
		('3',  7.5px,  10px, $sp-i-step-third-def-group,  $sp-i-step-third-ac-group),
		('4',    7px,    10px, $sp-i-step-fourth-def-group, $sp-i-step-fourth-ac-group),
		('5',          5px,    5px,  $sp-i-step-status-group,     ''),
	{
		&-#{$className} {
			.steps__wrap-icon {
				margin-left: $marginLeft;
				margin-top: $marginTop;
				@include retina-sprite($imgGroupDefault);
			}


			@if($className != '1' and $className != '5'){
				&.steps__wrap_active,
				&.steps__wrap_check {
					.steps__wrap-icon {
						@include retina-sprite($imgGroupActiveCheck);
					}
				}
			}
		}
	}
}

